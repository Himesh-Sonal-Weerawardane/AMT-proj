<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Module Details</title>
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/module-detail.css">
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/handsontable/styles/handsontable.min.css"
    />
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/handsontable/styles/ht-theme-main.min.css"
    />
    <style>
        .module-page { max-width: none !important; width: min(1800px, 96vw); margin: 0 auto; padding: 64px 1rem 150px 1rem !important; }
        .module-content { display: grid; grid-template-columns: 1fr !important; gap: 2rem; }
        .module-card { width: 75%; }
        .module-card__body { width: 100%; }
        .module-pdf { width: 100%; min-height: 80vh; }
        #rubric-table, #handsontable-grid { width: 100%; }
        @media (min-width: 992px) {
            .module-content { grid-template-columns: 1fr !important; }
        }
    </style>
</head>
<body>
<div id="navbar-container"></div>

<main class="module-page">
    <section class="module-header">
        <p id="module-breadcrumb" class="module-breadcrumb"></p>
        <h1 id="module-title" class="module-title">Loading moduleâ€¦</h1>
        <div class="module-meta">
            <span id="module-deadline" class="module-meta__item"></span>
            <span id="module-uploaded" class="module-meta__item"></span>
        </div>
        <p id="module-description" class="module-description"></p>
    </section>

    <section id="status-message" class="status-message" role="alert" hidden></section>


    <section class="module-content" id="module-content" hidden>

        <article class="module-card">
            <header class="module-card__header">
                <h2 class="module-card__title">Moderation Statistics</h2>
            </header>
            <div class="module-card__body" id="moderation-stats-body"></div>
        </article>

        <article class="module-card">
            <header class="module-card__header">
                <h2 class="module-card__title">Overall Statistics</h2>
            </header>
            <div class="module-card__body" id="overall-stats"></div>
        </article>

        <article class="module-card">
            <header class="module-card__header">
                <h2 class="module-card__title">Assignment Document</h2>
                <a id="assignment-download" class="module-card__action" href="#" target="_blank" rel="noopener" hidden>Download</a>
            </header>
            <div class="module-card__body">
                <object id="assignment-preview" class="module-pdf" type="application/pdf">
                    <p>Document preview unavailable. Use the download link above to view the assignment.</p>
                </object>
            </div>
        </article>

        <article id="admin-feedback-card" class="module-card" hidden>
            <header class="module-card__header">
                <h2 class="module-card__title">Admin Feedback</h2>
                <a id="admin-feedback-download" class="module-card__action" href="#" target="_blank" rel="noopener" hidden>Download</a>
            </header>
            <div class="module-card__body">
                <object id="admin-feedback-preview" class="module-pdf" type="application/pdf" hidden>
                    <p>Preview unavailable. Use the download link above to view the admin feedback.</p>
                </object>

                <div id="adminHandsontable-grid" class="module-table"></div>

                <p id="admin-feedback-message" class="module-description" hidden></p>
            </div>
        </article>

        <article class="module-card">
            <header class="module-card__header">
                <h2 class="module-card__title">Parsed Moderation Rubric</h2>
                <a id="rubric-download" class="module-card__action" href="#" target="_blank" rel="noopener" hidden>Download</a>
            </header>
            <div class="module-card__body">
                <ol id="rubric-list" class="rubric-list"></ol>
                <p id="rubric-empty" class="rubric-empty" hidden>No rubric criteria were parsed for this module.</p>
                <br>
                <div id="rubric-table">
                    <div id="handsontable-grid"></div>
                </div>
            </div>
        </article>
    </section>
</main>

<!-- Submit Button -->
<div class="submit-container">
    <button id="submit-button">Submit Changes</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.js"></script>
<script src="../js/admin/module-detail.js"></script>
<script src="../js/navbar.js"></script>
</body>
</html>
